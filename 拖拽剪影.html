<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			#box {
				width: 200px;
				height: 300px;
				background: red;
				position: absolute;
				left: 0;
				top: 0;
			}
			.add {
				width: 200px;
				height: 200px;
				background: yellow;
				position: absolute;
				left: 0;
				top: 0;
			}
		</style>
	</head>
	<body>
		<div id="box"></div>
		<script>
			box.onmousedown=function(ev){
				var disX=ev.clientX-box.offsetLeft;
				var disY=ev.clientY-box.offsetTop;
				var newDiv=document.createElement('div');
				newDiv.classList.add('add');
				document.body.appendChild(newDiv);
				newDiv.style.left=box.offsetLeft+'px';
				newDiv.style.top=box.offsetTop+'px';
				document.onmousemove=function(ev){
					newDiv.style.left=ev.clientX-disX+'px';
					newDiv.style.top=ev.clientY-disY+'px';
				}
				document.onmouseup=function(ev){
					document.onmousemove=document.onmouseup=null;
					box.style.left=newDiv.offsetLeft+'px';
					box.style.top=newDiv.offsetTop+'px';
					newDiv.remove();
				}
				return false;
			}
		</script>
	</body>
</html>
